<div class="col-span-12 mt-8">
    <div class="flex items-center h-10 intro-y">
        
        
        

        <h2 class="mr-5 text-lg font-medium ">Dashboard</h2><br>
        <marquee behavior="slide" direction="right"><h2 class="mr-5 text-red-400 font-medium truncate">{% for message in messages %}{{message}} {% endfor %}</h2><br></marquee>
       
        
    </div>
    <div class="grid grid-cols-12 gap-6 mt-5">
        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
            href="#">
            <div class="p-5">
                <div class="flex justify-between">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-blue-400"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="2"
                            d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <div
                        class="bg-green-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                        <span class="flex items-center">Purchase</span>
                    </div>
                </div>
                <div class="ml-2 w-full flex-1">
                    <div>
                        <div class="mt-3 text-3xl font-bold leading-8">{{total_purchase}}  </div> 

                        <div class="mt-1 text-base text-gray-600">Total Purchase
 
                             
                        </div>(PKR)
                    </div>
                </div>
            </div>
        </a>
        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
            href="#">
            <div class="p-5">
                <div class="flex justify-between">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-yellow-400"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="2"
                            d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                    </svg>
                    <div
                        class="bg-red-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                        <span class="flex items-center">Sales</span>
                    </div>
                </div>
                <div class="ml-2 w-full flex-1">
                    <div>
                        <div class="mt-3 text-3xl font-bold leading-8">{{total_sales}} </div>

                        <div class="mt-1 text-base text-gray-600">Total Sales</div>(PKR)
                    </div>
                </div>
            </div>
        </a>
        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
            href="#">
            <div class="p-5">
                <div class="flex justify-between">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-pink-600"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="2"
                            d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z" />
                        <path stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="2"
                            d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z" />
                    </svg>
                    <div
                        class="bg-yellow-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                        <span class="flex items-center">Pending</span>
                    </div>
                </div>
                <div class="ml-2 w-full flex-1">
                    <div>
                        <div class="mt-3 text-3xl font-bold leading-8">{{total_pending}}  </div>

                        <div class="mt-1 text-base text-gray-600">Pending Payment</div>(PKR)
                    </div>
                </div>
            </div>
        </a>
        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
            href="#">
            <div class="p-5">
                <div class="flex justify-between">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-green-400"
                        fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            stroke-width="2"
                            d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
                    </svg>
                    <div
                        class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                        <span class="flex items-center">Received</span>
                    </div>
                </div>
                <div class="ml-2 w-full flex-1">
                    <div>
                        <div class="mt-3 text-3xl font-bold leading-8">{{total_Recived_Payment}}  </div>

                        <div class="mt-1 text-base text-gray-600">Payment Received</div>(PKR)
                    </div>
                </div>
            </div>
        </a>
        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
            href="#">
            <div class="p-5">
                <div class="flex justify-between">
                    <i class="fas fa-building text-purple-400 text-3xl"></i>
                <div class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                    <span class="flex items-center">Withdraw</span>
                </div>
                </div>
                <div class="ml-2 w-full flex-1">
                    <div>
                        <div class="mt-3 text-3xl font-bold leading-8">{{siteexp}}  </div>

                        <div class="mt-1 text-base text-gray-600">Withdraw</div>(PKR)
                    </div>
                </div>
            </div>
        </a>
        
        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
            href="#">
            <div class="p-5">
                <div class="flex justify-between">
                    <i class="fas fa-industry text-red-400 text-3xl"></i>
                <!-- Percentage Indicator (Adjust color and percentage as needed) -->
                <div class="bg-yellow-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                    <span class="flex items-center">Expenses</span>
                </div>
                </div>
                <div class="ml-2 w-full flex-1">
                    <div>
                        <div class="mt-3 text-3xl font-bold leading-8">{{manufacture_expense}}  </div>

                        <div class="mt-1 text-base text-gray-600">Expenses</div>(PKR)
                    </div>
                </div>
            </div>
        </a>
        
       
        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
            href="#">
            <div class="p-5">
                <div class="flex justify-between">
                    <i class="fas fa-undo text-pink-600 text-3xl"></i>
                <!-- Percentage Indicator (Adjust color and percentage as needed) -->
                <div class="bg-pink-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                    <span class="flex items-center">Balance</span>
                </div>
                </div>
                <div class="ml-2 w-full flex-1">
                    <div>
                        <div class="mt-3 text-3xl font-bold leading-8">{{siteProfit}} </div>

                        <div class="mt-1 text-base text-gray-600">Balance </div>(PKR)
                    </div>
                </div>
            </div>
        </a>
        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
        href="#">
        <div class="p-5">
            <div class="flex justify-between">
                 <i class="fas fa-chart-line text-green-400 text-3xl"></i>
                <div
                    class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                    <span class="flex items-center">P/L</span>
                </div>
            </div>
            <div class="ml-2 w-full flex-1">
                <div>
                    <div class="mt-3 text-3xl font-bold leading-8">{{siteProfit}}  </div>

                    <div class="mt-1 text-base text-gray-600">Profit/Lose</div>(PKR)
                </div>
            </div>
        </div>
    </a>
    <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
        href="#">
        <div class="p-5">
            <div class="flex justify-between">
                <i class="fas fa-wallet" style="background-color: red; padding: 10px; border-radius: 50%; color: white;"></i>

                <div
                    class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                    <span class="flex items-center">Credit</span>
                </div>
            </div>
            <div class="ml-2 w-full flex-1">
                <div>
                    <div class="mt-3 text-3xl font-bold leading-8">{{Creditamount}}  </div>

                    <div class="mt-1 text-base text-gray-600">Loading Labour Credit</div>(PKR)
                </div>
            </div>
        </div>
    </a>
    <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
        href="#">
        <div class="p-5">
            <div class="flex justify-between">
                <i class="fas fa-wallet" style="background-color: red; padding: 10px; border-radius: 50%; color: white;"></i>

                <div
                    class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                    <span class="flex items-center">Credit</span>
                </div>
            </div>
            <div class="ml-2 w-full flex-1">
                <div>
                    <div class="mt-3 text-3xl font-bold leading-8">{{CreditamountPro}}  </div>

                    <div class="mt-1 text-base text-gray-600">Production Labour Credit</div>(PKR)
                </div>
            </div>
        </div>
    </a>
     <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
        href="#">
        <div class="p-5">
            <div class="flex justify-between">
               <i class="fas fa-wallet" style="background-color: red; padding: 10px; border-radius: 50%; color: white;"></i>

                <div
                    class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                    <span class="flex items-center">Credit</span>
                </div>
            </div>
            <div class="ml-2 w-full flex-1">
                <div>
                    <div class="mt-3 text-3xl font-bold leading-8">{{Expense_Credit}}  </div>

                    <div class="mt-1 text-base text-gray-600">Expense Credit</div>(PKR)
                </div>
            </div>
        </div>
    </a>
       <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
        href="#">
        <div class="p-5">
            <div class="flex justify-between">
                <i class="fas fa-wallet" style="background-color: red; padding: 10px; border-radius: 50%; color: white;"></i>

                <div
                    class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                    <span class="flex items-center">Credit</span>
                </div>
            </div>
            <div class="ml-2 w-full flex-1">
                <div>
                    <div class="mt-3 text-3xl font-bold leading-8">{{Manufacturing_Credit}}  </div>

                    <div class="mt-1 text-base text-gray-600">Supply Credit</div>(PKR)
                </div>
            </div>
        </div>
    </a>
        
    </div>
 


    
</div>
<div class="col-span-12 mt-5">
    <div class="grid gap-2 grid-cols-1 lg:grid-cols-2">
        

        
    </div>
    <div class="bg-white shadow-lg p-4 transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white" id="chart"> </div>
    <div class="bg-white shadow-lg mt-3 transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white" id="areachart"></div>
</div>
 

</div>

</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script>
function data() {

return {

isSideMenuOpen: false,
toggleSideMenu() {
this.isSideMenuOpen = !this.isSideMenuOpen
},
closeSideMenu() {
this.isSideMenuOpen = false
},
isNotificationsMenuOpen: false,
toggleNotificationsMenu() {
this.isNotificationsMenuOpen = !this.isNotificationsMenuOpen
},
closeNotificationsMenu() {
this.isNotificationsMenuOpen = false
},
isProfileMenuOpen: false,
toggleProfileMenu() {
this.isProfileMenuOpen = !this.isProfileMenuOpen
},
closeProfileMenu() {
this.isProfileMenuOpen = false
},
isPagesMenuOpen: false,
togglePagesMenu() {
this.isPagesMenuOpen = !this.isPagesMenuOpen
},

}
}
</script>
 
<script>
    var options = {
        series: [
            {
                name: "Manufacturing",
                data: [
                    {{ january_total }}, {{ february_total }}, {{ march_total }},
                    {{ april_total }}, {{ may_total }}, {{ june_total }},
                    {{ july_total }}, {{ august_total }}, {{ september_total }},
                    {{ october_total }}, {{ november_total }}, {{ december_total }}
                ],
            },
            {
                name: "Sale",
                data: [
                    {{ january_Sale }}, {{ february_Sale }}, {{ march_Sale }},
                    {{ april_Sale }}, {{ may_Sale }}, {{ june_Sale }},
                    {{ july_Sale }}, {{ august_Sale }}, {{ september_Sale }},
                    {{ october_Sale }}, {{ november_Sale }}, {{ december_Sale }}
                ],
            }
        ],
        chart: {
            height: 350,
            type: 'area',
            zoom: {
                enabled: true,
                type: 'x',
                autoScaleYaxis: true
            },
            toolbar: {
                autoSelected: 'zoom',
                show: true
            }
        },
        dataLabels: {
            enabled: true,
            formatter: function(val) {
                return val.toFixed(2);
            }
        },
        stroke: {
            curve: 'smooth'
        },
        title: {
            text: 'Manufacturing vs Sale',
            align: 'center',
            margin: 20,
            offsetY: 10,
            style: {
                fontSize: '20px',
                fontWeight: 'bold',
                color: '#263238'
            }
        },
        grid: {
            row: {
                colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns
                opacity: 0.5
            },
        },
        xaxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        },
        yaxis: {
            title: {
                text: 'Amount'
            }
        },
        tooltip: {
            shared: true,
            intersect: false,
            y: {
                formatter: function(val) {
                    return val.toFixed(2);
                }
            }
        },
        legend: {
            position: 'top',
            horizontalAlign: 'center',
            floating: false,
            offsetY: 10,
            offsetX: 0
        },
        colors: ['#60a5fa', '#f59e0b']
    };

    var chart = new ApexCharts(document.querySelector("#chart"), options);
    chart.render();
</script>

<script>
var chart = document.querySelector('#chartpie')
var options = {
series: [{{request.user.profile.Total_Purchase}},{{request.user.profile.Recived_Payments}},{{request.user.profile.Total_Sale}} ,{{request.user.profile.Total_Sale}}, {{request.user.profile.Pending_Payments}} ],
chart: {
height: 350,
type: 'radialBar',
},
plotOptions: {
radialBar: {
dataLabels: {
name: {
fontSize: '22px',
},
value: {
fontSize: '16px',
},
total: {
show: true,
label: 'Total',
formatter: function(w) {
    // By default this function returns the average of all series. The below is just an example to show the use of custom formatter function
    return {{request.user.profile.Total_Sale}} 
}
}
}
}
},
labels: ['Purchase', 'Payment Recived','Sale', 'Pending Payment'],
};
var chart = new ApexCharts(chart, options);
chart.render();
</script>
 
<script>
    var options = {
        series: [
            {
                name: 'Received Payments',
                data: [
                    {{ january_received }}, {{ february_received }}, {{ march_received }},
                    {{ april_received }}, {{ may_received }}, {{ june_received }},
                    {{ july_received }}, {{ august_received }}, {{ september_received }},
                    {{ october_received }}, {{ november_received }}, {{ december_received }}
                ]
            },
            {
                name: 'Pending Payments',
                data: [
                {{ january_pending }}, {{ february_pending }}, {{ march_pending }},
                {{ april_pending }}, {{ may_pending }}, {{ june_pending }},
                {{ july_pending }}, {{ august_pending }}, {{ september_pending }},
                {{ october_pending }}, {{ november_pending }}, {{ december_pending }}
            ]
            }
        ],
        chart: {
            type: 'area',
            height: 350,
            width: '100%' // Ensure chart width takes full space available
        },
        dataLabels: {
            enabled: false
        },
        stroke: {
            curve: 'smooth'
        },
        xaxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        },
        tooltip: {
            x: {
                format: 'MMM' // Format tooltip to display month abbreviation
            },
        },
        title: {
            text: 'Received vs Pending',
            align: 'left'
        },
        colors: ['#38a169', '#b83280'],
    };

    var chart = new ApexCharts(document.querySelector("#areachart"), options);
    chart.render();
</script>
